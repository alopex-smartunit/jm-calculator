# jm-calculator

Решение задачи https://jm-program.github.io/task-calculator.

## Особенности реализации

1. Калькулятор выполняет базовые арифметические операции с неограниченным количеством операндов. Вычисляемое выражение вводится в консоль, но может и передаваться в аргументах командной строки.
   * Интерпретатор java некорректно обрабатывает отдельно стоящую звездочку "*" в аргументах командной строки. Строка данных, заключенная в кавычки, обрабатывается корректно. При вводе с консоли поведение корректно. 
   * Если первым параметром передать команду "DEBUG", класс будет выводить в консоль служебные сообщения.
1. Калькулятор работает с целыми арабскими и римскими цифрами любой величины. Результат для арабских цифр выдается в double, чтобы не терять дробную часть от операции деления. Для римских цифр дробная часть отбрасывается, а не округляется (предполагается, что древние римляне не считали полезным в бою 9/10 легионера).
1. Калькулятор умеет работать только с арабскими или римскими цифрами одновременно, при вводе пользователем строки вроде 3 + II калькулятор выбрасывает исключение и прекращает свою работу. В DEBUG-режиме калькулятор работает со смешанной системой счисления, результат выводится в double.

## Архитектура

При парсинге входной строки заполняется объект производного от ArrayList класса Polish, реализующий алгоритм обратной польской записи. В объекте сохраняются арабские числа типа double и операторы типа char. Преобразование римских чисел в вещественные и обратно осуществляется методами основного класса. 

При кодировании использовались:
* статья [Обратная польская нотация: как же приготовить хот-дог?](https://habr.com/ru/post/282379/);
* алгоритм преобразования римских цифр в арабские, переведенный с JavaScript.
